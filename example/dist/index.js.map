{"version":3,"file":"index.js","sources":["../../src/render.js","../../src/update-attributes.js","../src/helper/links.js","../src/template/nav.js","../src/template/main.js","../src/template/footer.js","../src/template/article.js","../src/helper/random-number.js","../src/template/spam.js","../src/get-page-structure.js","../src/get-articles.js","../src/get-spam.js","../src/menu-events.js"],"sourcesContent":["import updateAttributes from './update-attributes'\r\n\r\nfunction render(array, mod = {}) {\r\n    const arr = [... array]\r\n    let res = ''\r\n    let arrLength = arr.length\r\n\r\n    for(let i=0; i< arrLength; i++) {\r\n        if(arr[i].var) {\r\n            if(!mod.var) continue;\r\n\r\n            if(mod.var[arr[i].var] || typeof(mod.var[arr[i].var]) == 'number') {\r\n                arr.splice(i+1, 0, ... mod.var[arr[i].var])\r\n                arrLength = arr.length\r\n            }\r\n            continue;\r\n        }\r\n        if(typeof(arr[i]) == 'string' || typeof(arr[i]) == 'number') {\r\n            res += arr[i]\r\n            continue;\r\n        } else if(arr[i][0][0] == '/'){\r\n            res += `<${arr[i][0]}>`\r\n            continue;\r\n        }\r\n\r\n        let attributesString = ''\r\n\r\n        if(arr[i][1]) {\r\n            let attributes = {... arr[i][1]}\r\n            if(attributes.attr && mod.attr) {\r\n                attributes = updateAttributes(attributes, mod.attr[attributes.attr])\r\n            }\r\n\r\n            const attrKeys = Object.keys(attributes)\r\n            attrKeys.forEach(attr => {\r\n                if(attr != 'attr') {\r\n                    attributesString += ` ${attr}=\"${attributes[attr]}\"`\r\n                }\r\n            })\r\n        }\r\n\r\n        res += `<${arr[i][0]}${attributesString}>`\r\n    }\r\n    \r\n    return res\r\n}\r\n\r\nexport default render","function updateAttributes(oldAttributes, newAttributes) {\r\n    const newKeys = Object.keys(newAttributes)\r\n\r\n    newKeys.forEach(key => {\r\n        if((key == 'class' || key == 'style') && oldAttributes[key]) {\r\n            oldAttributes[key] += ' ' + newAttributes[key]\r\n        }\r\n        else {\r\n            oldAttributes[key] = newAttributes[key]\r\n        }\r\n    })\r\n    return oldAttributes\r\n}\r\n\r\nexport default updateAttributes","const links = {\r\n    author: 'https://github.com/slavcoder',\r\n    code:   'https://github.com/slavcoder/template-arrays/tree/master/example',\r\n    repo:   'https://github.com/slavcoder/template-arrays'\r\n}\r\n\r\nexport default links","// this is just beautiful, isn't it?\r\nimport links from '../helper/links'\r\n\r\nconst hamburger = [\r\n    ['button', {class:'nav_hamburger hamburger'}],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n    ['/button']\r\n]\r\n\r\nconst menu = [\r\n    ['ul', {class:'nav_menu menu'}],\r\n        ['li', {class:'menu_item'}],\r\n            ['a', {class:'menu_link', href:links.author}],'author',['/a'],\r\n        ['/li'],\r\n        ['li', {class:'menu_item'}],\r\n            ['a', {class:'menu_link', href:links.repo}],'project',['/a'],\r\n        ['/li'],\r\n    ['/ul']\r\n]\r\n\r\nconst nav = [\r\n    ['nav', {class:'nav', id:'nav'}],\r\n        ... hamburger,\r\n        ... menu,\r\n    ['/nav']\r\n]\r\n\r\nexport default nav","import links from '../helper/links'\r\n\r\nconst styles = {\r\n    spamContainer: `\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n    `\r\n}\r\n\r\nconst spam = [\r\n    ['div', {class:'spam'}],\r\n        ['select', {class:'spam_select -order'}],\r\n            ['option', {value:'random'}], \"don't order colors\", ['/option'],\r\n            ['option', {value:'lightest'}], \"order from lightest color\", ['/option'],\r\n            ['option', {value:'darkest'}], \"order from darkest color\", ['/option'],\r\n        ['/select'],\r\n        ['select', {class:'spam_select -count'}],\r\n            ['option', {value:'10'}], \"10 items\", ['/option'],\r\n            ['option', {value:'100'}], \"100 items\", ['/option'],\r\n            ['option', {value:'1000'}], \"1 000 items\", ['/option'],\r\n            ['option', {value:'5000'}], \"5 000 items\", ['/option'],\r\n            ['option', {value:'10000'}], \"10 000 items\", ['/option'],\r\n        ['/select'],\r\n        ['button', {class:'spam_button'}],\"run spam test\",['/button'],\r\n        ['div', {class:'spam_container', style: styles.spamContainer}],['/div'],\r\n    ['/div']\r\n]\r\n\r\nconst main = [\r\n    ['main', {class: 'main'}],\r\n        ['h1'],\r\n            \"Template arrays example of usage\",\r\n        ['/h1'],\r\n        ['p'],\r\n            'Check out the ',\r\n            ['a', {href:links.code}],'code',['/a'],\r\n            ' of this site',\r\n        ['/p'],\r\n        ['p'],\r\n            'Check out template arrays ',\r\n            ['a', {href:links.repo}],'repo',['/a'],\r\n        ['/p'],\r\n        ['div', {class:'articlesContainer'}],['/div'],\r\n        ... spam,\r\n    ['/main']\r\n]\r\n\r\nexport default main","// this file is quite a mess, but it is all for a reason\r\n// read comments to learn more about this concept\r\n\r\nconst date = new Date()\r\n\r\nconst footer = [\r\n    ['footer', {class:'footer'}],\r\n        {var: 'cats'},\r\n        ['p', {class:'footer_paragraph'}],\r\n            'slavcoder &copy; ', {var: 'year'},\r\n        ['/p'],\r\n    ['/footer']\r\n]\r\n\r\nconst mod = {\r\n    var: {\r\n        year: date.getFullYear(),\r\n\r\n        // you can add another template array inside var,\r\n        // and even do this again in this scope, like in 'cats var' below\r\n        // no need to worry about order, you can define img2 earlier as well or not define at all\r\n        img2: [\r\n            ['img', {src:'https://placekitten.com/200/300', class:'footer_img'}]\r\n        ],\r\n\r\n        cats: [\r\n            ['div', {class:'footer_imgContainer'}],\r\n                ['p', {class:'footer_paragraph'}],\r\n                    'cute cat images inside div from ',\r\n                    ['a', {href:'https://placekitten.com'}],'placekitten.com',['/a'],\r\n                ['/p'],\r\n                {var: 'img1'},\r\n                {var: 'img2'},\r\n            ['/div'],\r\n\r\n            // if you won't define var in var literal but use in template, don't worry, it will be ommited\r\n            {var: 'notDefinedVar'},\r\n            {var: 'loop'}\r\n        ],\r\n\r\n        img1: [\r\n            ['img', {src:'https://placekitten.com/g/200/300', class:'footer_img'}]\r\n        ],\r\n\r\n        // don't do this (loop is called inside links and looking for loop again,\r\n        // it is a well known infinite loop - avoid this)\r\n\r\n        // infinite loop example:\r\n        // loop: [\r\n        //     ['p'],{var: 'loop'},['p']\r\n        // ]\r\n    }\r\n}\r\n\r\nexport {footer, mod as footerMod}","const article = [\r\n    ['article', {class:'article'}],\r\n        ['h2',  {class:'article_heading'}], {var: 'title'}, ['/h2'],\r\n        ['div', {class:'article_content'}], \r\n            {var: 'content'}, \r\n        ['/div'],\r\n    ['/article']\r\n]\r\n\r\nexport default article","function randomNumber(upto) {\r\n    return Math.floor(Math.random()*upto)\r\n}\r\n\r\nexport default randomNumber","const spam = [\r\n    ['span', {attr:'spam'}],\r\n        {var: 'random'},\r\n    ['/span'],\r\n]\r\n\r\nexport default spam","import render from '../../src/render'\r\nimport nav from './template/nav'\r\nimport main from './template/main'\r\nimport {footer, footerMod} from './template/footer'\r\n\r\nfunction getPageStructure() {\r\n    const page = render(nav)\r\n               + render(main)\r\n               + render(footer, footerMod)\r\n\r\n    document.body.innerHTML = page \r\n}\r\n\r\nexport default getPageStructure","import render from '../../src/render'\r\nimport article from './template/article.js'\r\n\r\nfunction getArticles(data) {\r\n    const articlesContainer = document.querySelector('.articlesContainer')\r\n    let allArticles = ''\r\n\r\n    data.forEach(item => {\r\n        allArticles += render(article, {\r\n            var: {\r\n                title: item.title,\r\n                content: item.content\r\n            }\r\n        })\r\n    })\r\n\r\n    articlesContainer.innerHTML = allArticles \r\n}\r\n\r\nexport default getArticles","import randomNumber from './helper/random-number'\r\nimport render from '../../src/render'\r\nimport spam from './template/spam'\r\n\r\nfunction getSpam() {\r\n    const spamContainer = document.querySelector('.spam_container')\r\n    const spamSelectCount = document.querySelector('.spam_select.-count')\r\n    const spamSelectOrder = document.querySelector('.spam_select.-order')\r\n    const spamButton = document.querySelector('.spam_button')\r\n    \r\n    spamButton.addEventListener('click', () => {\r\n        showSpamElements(spamSelectCount.value, spamSelectOrder.value)\r\n    })\r\n    \r\n    function showSpamElements(count, order) {\r\n        console.time(`show ${count} spam elements`)\r\n        let spamContent = ''\r\n        \r\n        for(let i=1; i<=count; i++) {\r\n            const red   = randomNumber(255)\r\n            const green = randomNumber(255)\r\n            const blue  = randomNumber(255)\r\n            const colorCount = red + green + blue\r\n\r\n            const orderValue = {\r\n                'random':   () => 0,\r\n                'darkest':  () => colorCount,\r\n                'lightest': () => 1000 - colorCount\r\n            }\r\n\r\n            const color = colorCount < 320 ? 'white' : 'black'\r\n            const rgb   = `rgb(${red},${green},${blue})`\r\n            \r\n            spamContent += render(spam, {\r\n                var: {random: i},\r\n                attr: {\r\n                    spam: {\r\n                        style: `\r\n                            background-color: ${rgb};\r\n                            color: ${color};\r\n                            order: ${orderValue[order]()};\r\n                        `,\r\n                        id: `spam-${i}`,\r\n                        title: rgb\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        spamContainer.innerHTML = spamContent   \r\n        console.timeEnd(`show ${count} spam elements`)\r\n    }\r\n}\r\n\r\nexport default getSpam","function menuEvents() {\r\n    const menu = document.querySelector('.menu')\r\n    const hamburger = document.querySelector('.hamburger')\r\n\r\n    hamburger.addEventListener('click', e => {\r\n        menu.classList.toggle('-active')\r\n    })\r\n}\r\n\r\n\r\nexport default menuEvents"],"names":["render","array","mod","arr","res","arrLength","length","i","splice","attributesString","oldAttributes","newAttributes","attributes","attr","Object","keys","forEach","key","links","author","code","repo","nav","class","id","href","main","value","style","var","year","Date","getFullYear","img2","src","cats","img1","article","randomNumber","upto","Math","floor","random","page","data","articlesContainer","allArticles","spamContainer","spamSelectCount","spamSelectOrder","menu","spam","footerMod","document","body","innerHTML","querySelector","item","title","content","addEventListener","e","classList","toggle","count","order","console","time","spamContent","red","green","blue","colorCount","rgb","darkest","lightest","timeEnd","showSpamElements"],"mappings":"+MAEA,SAASA,EAAOC,EAAOC,YAAAA,IAAAA,EAAM,IAKzB,IAJA,IAAMC,YAAWF,GACbG,EAAM,GACNC,EAAYF,EAAIG,OAEZC,EAAE,EAAGA,EAAGF,EAAWE,IACvB,GAAGJ,EAAII,OAAP,CACI,IAAIL,MAAS,UAEVA,MAAQC,EAAII,SAA0C,iBAAxBL,MAAQC,EAAII,WACzCJ,EAAIK,aAAJL,GAAWI,EAAE,EAAG,UAAOL,MAAQC,EAAII,UACnCF,EAAYF,EAAIG,aAIxB,GAAqB,iBAAXH,EAAII,IAAqC,iBAAXJ,EAAII,MAGlB,KAAhBJ,EAAII,GAAG,GAAG,IAKpB,IAAIE,EAAmB,GAEpBN,EAAII,GAAG,eACN,IC5BcG,EAAeC,ED4BzBC,OAAkBT,EAAII,GAAG,IAC1BK,EAAWC,MAAQX,EAAIW,OC7BZH,ED8BoBE,EC9BLD,ED8BiBT,EAAIW,KAAKD,EAAWC,MC7B1DC,OAAOC,KAAKJ,GAEpBK,QAAQ,SAAAC,GACD,SAAPA,GAAyB,SAAPA,IAAmBP,EAAcO,GAInDP,EAAcO,GAAON,EAAcM,GAHnCP,EAAcO,IAAQ,IAAMN,EAAcM,KDyBtCL,ECnBLF,GDsBkBI,OAAOC,KAAKH,GACpBI,QAAQ,SAAAH,GACF,QAARA,IACCJ,OAAwBI,OAASD,EAAWC,aAKxDT,OAAWD,EAAII,GAAG,GAAKE,WApBnBL,OAAWD,EAAII,GAAG,YAHlBH,GAAOD,EAAII,GA0BnB,OAAOH,EE5CX,IAAMc,EAAQ,CACVC,OAAQ,+BACRC,KAAQ,mEACRC,KAAQ,gDCmBNC,GACF,CAAC,MAAO,CAACC,MAAM,MAAOC,GAAG,gBApBX,CACd,CAAC,SAAU,CAACD,MAAM,4BACd,CAAC,OAAQ,CAACA,MAAM,mBAAmB,CAAC,SACpC,CAAC,OAAQ,CAACA,MAAM,mBAAmB,CAAC,SACpC,CAAC,OAAQ,CAACA,MAAM,mBAAmB,CAAC,SACxC,CAAC,YAGQ,CACT,CAAC,KAAM,CAACA,MAAM,kBACV,CAAC,KAAM,CAACA,MAAM,cACV,CAAC,IAAK,CAACA,MAAM,YAAaE,KAAKP,EAAMC,SAAS,SAAS,CAAC,MAC5D,CAAC,OACD,CAAC,KAAM,CAACI,MAAM,cACV,CAAC,IAAK,CAACA,MAAM,YAAaE,KAAKP,EAAMG,OAAO,UAAU,CAAC,MAC3D,CAAC,OACL,CAAC,SAOD,CAAC,UCGCK,GACF,CAAC,OAAQ,CAACH,MAAO,SACb,CAAC,MACG,mCACJ,CAAC,OACD,CAAC,KACG,iBACA,CAAC,IAAK,CAACE,KAAKP,EAAME,OAAO,OAAO,CAAC,MACjC,gBACJ,CAAC,MACD,CAAC,KACG,6BACA,CAAC,IAAK,CAACK,KAAKP,EAAMG,OAAO,OAAO,CAAC,MACrC,CAAC,MACD,CAAC,MAAO,CAACE,MAAM,sBAAsB,CAAC,gBAjCjC,CACT,CAAC,MAAO,CAACA,MAAM,SACX,CAAC,SAAU,CAACA,MAAM,uBACd,CAAC,SAAU,CAACI,MAAM,WAAY,qBAAsB,CAAC,WACrD,CAAC,SAAU,CAACA,MAAM,aAAc,4BAA6B,CAAC,WAC9D,CAAC,SAAU,CAACA,MAAM,YAAa,2BAA4B,CAAC,WAChE,CAAC,WACD,CAAC,SAAU,CAACJ,MAAM,uBACd,CAAC,SAAU,CAACI,MAAM,OAAQ,WAAY,CAAC,WACvC,CAAC,SAAU,CAACA,MAAM,QAAS,YAAa,CAAC,WACzC,CAAC,SAAU,CAACA,MAAM,SAAU,cAAe,CAAC,WAC5C,CAAC,SAAU,CAACA,MAAM,SAAU,cAAe,CAAC,WAC5C,CAAC,SAAU,CAACA,MAAM,UAAW,eAAgB,CAAC,WAClD,CAAC,WACD,CAAC,SAAU,CAACJ,MAAM,gBAAgB,gBAAgB,CAAC,WACnD,CAAC,MAAO,CAACA,MAAM,iBAAkBK,qGAA8B,CAAC,QACpE,CAAC,UAmBD,CAAC,WC/BC1B,EAAM,CACR2B,IAAK,CACDC,MAbK,IAAIC,MAaEC,cAKXC,KAAM,CACF,CAAC,MAAO,CAACC,IAAI,kCAAmCX,MAAM,gBAG1DY,KAAM,CACF,CAAC,MAAO,CAACZ,MAAM,wBACX,CAAC,IAAK,CAACA,MAAM,qBACT,mCACA,CAAC,IAAK,CAACE,KAAK,4BAA4B,kBAAkB,CAAC,MAC/D,CAAC,MACD,CAACI,IAAK,QACN,CAACA,IAAK,QACV,CAAC,QAGD,CAACA,IAAK,iBACN,CAACA,IAAK,SAGVO,KAAM,CACF,CAAC,MAAO,CAACF,IAAI,oCAAqCX,MAAM,kBCzC9Dc,EAAU,CACZ,CAAC,UAAW,CAACd,MAAM,YACf,CAAC,KAAO,CAACA,MAAM,oBAAqB,CAACM,IAAK,SAAU,CAAC,OACrD,CAAC,MAAO,CAACN,MAAM,oBACX,CAACM,IAAK,WACV,CAAC,QACL,CAAC,aCNL,SAASS,EAAaC,GAClB,OAAOC,KAAKC,MAAMD,KAAKE,SAASH,GCDpC,ICMUI,ECHWC,EACXC,EACFC,ECAEC,EACAC,EACAC,ECNAC,EJDJC,EAAO,CACT,CAAC,OAAQ,CAACtC,KAAK,SACX,CAACgB,IAAK,UACV,CAAC,UCGKc,EAAO3C,EAAOsB,GACPtB,EAAO0B,GACP1B,EJHF,CACX,CAAC,SAAU,CAACuB,MAAM,WACd,CAACM,IAAK,QACN,CAAC,IAAK,CAACN,MAAM,qBACT,oBAAqB,CAACM,IAAK,QAC/B,CAAC,MACL,CAAC,YIH2BuB,GAE5BC,SAASC,KAAKC,UAAYZ,ECPTC,grGACXC,EAAoBQ,SAASG,cAAc,sBAC7CV,EAAc,GAElBF,EAAK5B,QAAQ,SAAAyC,GACTX,GAAe9C,EAAOqC,EAAS,CAC3BR,IAAK,CACD6B,MAAOD,EAAKC,MACZC,QAASF,EAAKE,aAK1Bd,EAAkBU,UAAYT,EEfxBI,EAAOG,SAASG,cAAc,SAClBH,SAASG,cAAc,cAE/BI,iBAAiB,QAAS,SAAAC,GAChCX,EAAKY,UAAUC,OAAO,aDApBhB,EAAgBM,SAASG,cAAc,mBACvCR,EAAkBK,SAASG,cAAc,uBACzCP,EAAkBI,SAASG,cAAc,uBAC5BH,SAASG,cAAc,gBAE/BI,iBAAiB,QAAS,YAIrC,SAA0BI,EAAOC,GAC7BC,QAAQC,aAAaH,oBAGrB,IAFA,IAAII,EAAc,cAEV7D,GACJ,IAAM8D,EAAQ/B,EAAa,KACrBgC,EAAQhC,EAAa,KACrBiC,EAAQjC,EAAa,KACrBkC,EAAaH,EAAMC,EAAQC,EAS3BE,SAAeJ,MAAOC,MAASC,MAErCH,GAAepE,EAAOmD,EAAM,CACxBtB,IAAK,CAACa,OAAQnC,GACdM,KAAM,CACFsC,KAAM,CACFvB,yDACwB6C,4CARtBD,EAAa,IAAM,QAAU,kDANxB,CACf9B,OAAY,qBACZgC,QAAY,kBAAMF,GAClBG,SAAY,sBAAaH,IAaOP,mCAExBzC,WAAYjB,EACZmD,MAAOe,OAzBflE,EAAE,EAAGA,GAAGyD,EAAOzD,MAAfA,GA+BRwC,EAAcQ,UAAYa,EAC1BF,QAAQU,gBAAgBZ,oBAvCxBa,CAAiB7B,EAAgBrB,MAAOsB,EAAgBtB"}