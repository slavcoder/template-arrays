{"version":3,"file":"index.js","sources":["../../src/render.js","../../src/update-attributes.js","../src/template/article.js","../src/get-articles.js","../src/spam.js","../src/template/nav.js","../src/template/footer.js","../src/index.js","../src/template/main.js"],"sourcesContent":["import updateAttributes from './update-attributes'\r\n\r\nfunction render(array, mod = {}, validate = false) {\r\n    const arr = [... array]\r\n    let res = ''\r\n    let arrLength = arr.length\r\n\r\n    for(let i=0; i< arrLength; i++) {\r\n        if(arr[i].var) {\r\n            if(!mod.var) continue;\r\n\r\n            if(mod.var[arr[i].var] || typeof(mod.var[arr[i].var]) == 'number') {\r\n                arr.splice(i+1, 0, ... mod.var[arr[i].var])\r\n                arrLength = arr.length\r\n            }\r\n            continue;\r\n        }\r\n        if(typeof(arr[i]) == 'string' || typeof(arr[i]) == 'number') {\r\n            res += arr[i]\r\n            continue;\r\n        } else if(arr[i][0][0] == '/'){\r\n            res += `<${arr[i][0]}>`\r\n            continue;\r\n        }\r\n\r\n        let attributesString = ''\r\n\r\n        if(arr[i][1]) {\r\n            let attributes = {... arr[i][1]}\r\n            if(attributes.attr && mod.attr) {\r\n                attributes = updateAttributes(attributes, mod.attr[attributes.attr])\r\n            }\r\n\r\n            const attrKeys = Object.keys(attributes)\r\n            attrKeys.forEach(attr => {\r\n                if(attr != 'attr') {\r\n                    attributesString += ` ${attr}=\"${attributes[attr]}\"`\r\n                }\r\n            })\r\n        }\r\n\r\n        res += `<${arr[i][0]}${attributesString}>`\r\n    }\r\n\r\n    return res\r\n}\r\n\r\nexport default render","function updateAttributes(oldAttributes, newAttributes) {\r\n    const newKeys = Object.keys(newAttributes)\r\n\r\n    newKeys.forEach(key => {\r\n        if(key == 'class' || key == 'style' && oldAttributes[key]) {\r\n            oldAttributes[key] += ' ' +newAttributes[key]\r\n        }\r\n        else {\r\n            oldAttributes[key] = newAttributes[key]\r\n        }\r\n    })\r\n    return oldAttributes\r\n}\r\n\r\nexport default updateAttributes","const article = [\r\n    ['article', {attr:'article', class:'article'}],\r\n        ['h2',  {class:'article_heading'}], {var: 'title'},   ['/h2'],\r\n        ['p',   {class:'article_author'} ], {var: 'author'},  ['/p'],\r\n        ['div', {class:'article_content'}], {var: 'content'}, ['/div'],\r\n    ['/article']\r\n]\r\n\r\nexport default article","import render from '../../src/render'\r\nimport article from './template/article.js'\r\n\r\nfunction getArticles(data) {\r\n    const articlesContainer = document.querySelector('.articlesContainer')\r\n    let allArticles = ''\r\n\r\n    data.forEach(item => {\r\n        allArticles += render(article, {\r\n            var: {\r\n                title: [item.title],\r\n                author: [item.author],\r\n                content: [item.content]\r\n            }\r\n        })\r\n    })\r\n\r\n    articlesContainer.innerHTML += allArticles \r\n}\r\n\r\n\r\nexport default getArticles","const styles = {\r\n    spam: `\r\n        display: block;\r\n        color: white;\r\n        background-color: blue;\r\n        display: flex;\r\n        text-align: center;\r\n        justify-content: center;\r\n        margin: 1px 1px;\r\n        padding: 5px;\r\n        min-width: 50px;\r\n        border: 1px solid white;\r\n    `\r\n}\r\n\r\nconst spam = [\r\n    ['span', {attr:'spam', style: styles.spam}],\r\n        {var: 'random'},\r\n    ['/span']\r\n]\r\n\r\nexport default spam","const hamburger = [\r\n    ['button', {class:'nav_hamburger hamburger'}],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n        ['span', {class:'hamburger_line'}],['/span'],\r\n    ['/button']\r\n]\r\n\r\nconst menu = [\r\n    ['ul', {class:'nav_menu menu'}],\r\n        ['li', {class:'menu_item'}],['a', {class:'menu_link', href:'#'}],'menu link 1',['/a'],['/li'],\r\n        ['li', {class:'menu_item'}],['a', {class:'menu_link', href:'#'}],'menu link 2',['/a'],['/li'],\r\n        ['li', {class:'menu_item'}],['a', {class:'menu_link', href:'#'}],'menu link 3',['/a'],['/li'],\r\n        ['li', {class:'menu_item'}],['a', {class:'menu_link', href:'#'}],'menu link 4',['/a'],['/li'],\r\n        ['li', {class:'menu_item'}],['a', {class:'menu_link', href:'#'}],'menu link 5',['/a'],['/li'],\r\n    ['/ul']\r\n]\r\n\r\nconst nav = [\r\n    ['nav', {class:'nav', id:'nav'}],\r\n        ... hamburger,\r\n        ... menu,\r\n    ['/nav']\r\n]\r\n\r\nexport default nav","const date = new Date()\r\n\r\nconst footer = [\r\n    ['footer'],\r\n        ['p'],\r\n            '&copy; ', {var: 'year'},\r\n        ['/p'],\r\n        {var: 'links'},\r\n    ['/footer']\r\n]\r\n\r\nconst mod = {\r\n    var: {\r\n        year: [date.getFullYear()],\r\n        links: [\r\n            ['ul', {class:'footer_list'}],\r\n                ['li'],['a', {href:'#'}],'link 1',['/a'],['/li'],\r\n                ['li'],['a', {href:'#'}],'link 2',['/a'],['/li'],\r\n                ['li'],['a', {href:'#'}],'link 3',['/a'],['/li'],\r\n                ['li'],['a', {href:'#'}],'link 4',['/a'],['/li'],\r\n            ['/ul']\r\n        ]\r\n    }\r\n}\r\n\r\nexport {footer, mod as footerMod}","import getArticles from './get-articles'\r\nimport spam from './spam'\r\nimport render from '../../src/render'\r\nimport articles from './data/articles.json'\r\n\r\n// templates:\r\nimport nav from './template/nav'\r\nimport main from './template/main'\r\nimport {footer, footerMod} from './template/footer'\r\n\r\n\r\nconsole.time('render')\r\ndocument.body.innerHTML = render(nav) \r\n                        + render(main, {\r\n                            var: {\r\n                                countArticles: articles.articles.length\r\n                            }\r\n                        })\r\n                        + render(footer, footerMod)\r\n\r\ngetArticles(articles.articles)\r\nconsole.timeEnd('render')\r\n\r\nconsole.time('spam')\r\nconst spamContainer = document.querySelector('.spamContainer')\r\nlet spamContent = ''\r\n\r\nfor(let i=1; i<=10000; i++) {\r\n    spamContent += render(spam, {\r\n        var: {random: i},\r\n        attr: {\r\n            spam: {\r\n                class: 'someClassName',\r\n                style: `\r\n                    background-color: rgb(${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)});\r\n                    border-radius: ${i % 9 == 0 ? '50%' : '0'}               `\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nspamContainer.innerHTML = spamContent\r\nconsole.timeEnd('spam')","const styles = {\r\n    spamContainer: `\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n    `\r\n}\r\n\r\nconst main = [\r\n    ['main', {class: 'main'}],\r\n        ['h1'],\r\n            'Found: ', {var: 'countArticles'}, ' articles',\r\n        ['/h1'],\r\n        ['div', {class:'articlesContainer'}],['/div'],\r\n        ['div', {class:'spamContainer', style: styles.spamContainer}],['/div'],\r\n    ['/main']\r\n]\r\n\r\nexport default main"],"names":["render","array","mod","validate","arr","res","arrLength","length","i","splice","attributesString","oldAttributes","newAttributes","attributes","attr","Object","keys","forEach","key","data","articlesContainer","allArticles","article","class","var","spam","style","nav","id","href","year","Date","getFullYear","links","console","time","document","body","innerHTML","countArticles","articles","footerMod","querySelector","item","title","author","content","timeEnd","spamContainer","spamContent","random","Math","floor"],"mappings":"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"}